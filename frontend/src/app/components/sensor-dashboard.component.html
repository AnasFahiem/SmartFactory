<div class="dashboard-container">

    <header class="dashboard-header">
        <div class="logo-section">
            <div class="logo-icon">ğŸ­</div>
            <div>
                <h1>Factory IoT Monitor</h1>
                <p class="subtitle">Real-time Sensor Dashboard & Analytics</p>
            </div>
        </div>
    </header>

    <div class="top-connection-status">
        <span class="footer-label">Connection Status</span>
        <span class="status-badge"
            [ngClass]="sensorService.connectionStatus === 'Connected' ? 'connected' : 'disconnected'">
            <span class="status-indicator"></span>
            {{ sensorService.connectionStatus }}
        </span>
    </div>

    <!-- Vision & Safety Section -->
    <section class="sensor-section">
        <div class="section-header">
            <h2>ğŸ‘ï¸ Vision & Safety Monitoring</h2>
            <p>AI-powered personnel and PPE detection</p>
        </div>
        <div class="sensors-grid two-column">
            <div class="sensor-card personnel">
                <div class="sensor-icon">ğŸ‘·</div>
                <div class="sensor-label">Personnel Detected</div>
                <div class="sensor-value">{{ sensorService.totalPeople }}</div>
                <div class="sensor-status normal">
                    {{ sensorService.totalPeople > 0 ? 'Active' : 'Empty' }}
                </div>
            </div>

            <div class="sensor-card ppe">
                <div class="sensor-icon">âš ï¸</div>
                <div class="sensor-label">PPE Violations</div>
                <div class="sensor-value" [ngClass]="sensorService.violations > 0 ? 'alert' : 'safe'">
                    {{ sensorService.violations }}
                </div>
                <div class="sensor-status" [ngClass]="sensorService.violations > 0 ? 'danger' : 'safe'">
                    {{ sensorService.violations > 0 ? 'ğŸš¨ Violation!' : 'âœ… Safe' }}
                </div>
            </div>
        </div>
    </section>

    <!-- Environmental Monitoring Section -->
    <section class="sensor-section">
        <div class="section-header">
            <h2>ğŸŒ¡ï¸ Environmental Monitoring</h2>
            <p>Temperature and air quality sensors</p>
        </div>
        <div class="sensors-grid two-column">
            <div class="sensor-card temperature">
                <div class="sensor-icon">ğŸŒ¡ï¸</div>
                <div class="sensor-label">Temperature</div>
                <div class="sensor-value">{{ sensorService.temperature }}Â°C</div>
                <div class="sensor-status" [ngClass]="sensorService.temperature > 50 ? 'warning' : 'normal'">
                    {{ sensorService.temperature > 50 ? 'âš ï¸ High' : 'âœ… Normal' }}
                </div>
            </div>

            <div class="sensor-card smoke">
                <div class="sensor-icon">ğŸ’¨</div>
                <div class="sensor-label">Smoke Detector</div>
                <div class="sensor-value" [ngClass]="sensorService.smoke ? 'alert' : 'safe'">
                    {{ sensorService.smoke ? 'ALERT' : 'CLEAR' }}
                </div>
                <div class="sensor-status" [ngClass]="sensorService.smoke ? 'danger' : 'safe'">
                    {{ sensorService.smoke ? 'ğŸš¨ Detected' : 'âœ… Safe' }}
                </div>
            </div>
        </div>
    </section>

    <!-- Production Monitoring Section -->
    <section class="sensor-section">
        <div class="section-header">
            <h2>ğŸ“¦ Production Monitoring</h2>
            <p>Weight and product tracking</p>
        </div>
        <div class="sensors-grid two-column">
            <div class="sensor-card weight">
                <div class="sensor-icon">âš–ï¸</div>
                <div class="sensor-label">Weight</div>
                <div class="sensor-value">{{ sensorService.weight }} kg</div>
                <div class="sensor-status normal">
                    {{ sensorService.weight > 0 ? 'ğŸ“¦ Detected' : 'â³ Waiting' }}
                </div>
            </div>

            <div class="sensor-card product">
                <div class="sensor-icon">ğŸ“Œ</div>
                <div class="sensor-label">Product Number</div>
                <div class="sensor-value product-text">{{ sensorService.productNumber || '---' }}</div>
                <div class="sensor-status normal">
                    {{ sensorService.productNumber ? 'âœ… Registered' : 'â³ Pending' }}
                </div>
            </div>
        </div>
    </section>

    <footer class="dashboard-footer">
        <div class="footer-content">
            <div class="footer-item">
                <span class="footer-label">Last Update</span>
                <div class="timestamp">{{ lastUpdate | date:'short' }}</div>
            </div>
        </div>
    </footer>
</div>